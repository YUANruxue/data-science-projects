# ç”µå•†ç”¨æˆ·ä»·å€¼ä¸æµå¤±åˆ†æ (E-commerce Customer Value and Churn Analysis)

æœ¬é¡¹ç›®é€šè¿‡ RFM æ¨¡å‹å’Œ K-Means èšç±»ç®—æ³•ï¼Œå¯¹ç”µå•†ç”¨æˆ·çš„æ¶ˆè´¹è¡Œä¸ºè¿›è¡Œåˆ†æï¼Œè‡ªåŠ¨åŒ–åœ°åˆ’åˆ†ç”¨æˆ·ä»·å€¼ç­‰çº§ã€ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šï¼Œå¹¶ä¸ºæ¯ä¸ªç”¨æˆ·åŒ¹é…ç›¸åº”çš„è¥é”€ç­–ç•¥ï¼Œæœ€ç»ˆäº§å‡ºå¯ç›´æ¥ç”¨äºä¸šåŠ¡å†³ç­–çš„æŠ¥å‘Šæ–‡ä»¶ã€‚

## é¡¹ç›®ç»“æ„

```
ecommerce_analysis/
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/
â”‚   â”‚   â””â”€â”€ SampleSuperstore.csv
â”‚   â””â”€â”€ processed/
â”œâ”€â”€ output/
â”‚   â””â”€â”€ customer_segmentation_report.csv  <-- æœ€ç»ˆç”¨æˆ·ç­–ç•¥æŠ¥å‘Š
â”œâ”€â”€ reports/
â”‚   â””â”€â”€ figures/
â”‚       â”œâ”€â”€ kmeans_elbow_plot.png         <-- K-Means è‚˜éƒ¨å›¾
â”‚       â””â”€â”€ cluster_visualizations.png    <-- ç”¨æˆ·åˆ†ç¾¤å¯è§†åŒ–å›¾
â”œâ”€â”€ prepare_data_for_analysis.py
â”œâ”€â”€ rfm_churn_analysis.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ç¯å¢ƒè¦æ±‚

* Python 3.8+
* ä¾èµ–åº“è§ `requirements.txt`

## ä½¿ç”¨æ–¹æ³•

1.  **å…‹éš†é¡¹ç›®å¹¶è¿›å…¥ç›®å½•**
2.  **åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**
3.  **å®‰è£…ä¾èµ–**: `pip install -r requirements.txt`
4.  **å‡†å¤‡æ•°æ®**: å°†åŸå§‹æ•°æ®æ–‡ä»¶ `SampleSuperstore.csv` æ”¾å…¥ `data/raw/` æ–‡ä»¶å¤¹ã€‚
5.  **è¿è¡Œé¡¹ç›®**:
    * é¦–å…ˆï¼Œè¿è¡Œæ•°æ®é¢„å¤„ç†è„šæœ¬ï¼š
        ```bash
        python prepare_data_for_analysis.py
        ```
    * ç„¶åï¼Œè¿è¡Œä¸»åˆ†æè„šæœ¬ï¼š
        ```bash
        python rfm_churn_analysis.py
        ```

## äº§å‡ºæ–‡ä»¶è¯´æ˜

è„šæœ¬è¿è¡ŒæˆåŠŸåï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

1.  **ç”¨æˆ·åˆ†å±‚ç­–ç•¥æŠ¥å‘Š (`output/customer_segmentation_report.csv`)**
    * ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç”¨æˆ·çš„è¯¦ç»†è¡¨æ ¼ã€‚
    * å…³é”®åˆ—åŒ…æ‹¬ï¼š`user_id`, `R`, `F`, `M`, `Cluster`, `Segment` (ä¸šåŠ¡æ ‡ç­¾), `Strategy` (å»ºè®®ç­–ç•¥)ã€‚
    * æ­¤æ–‡ä»¶å¯ç›´æ¥äº¤ä»˜ç»™å¸‚åœºæˆ–è¿è¥å›¢é˜Ÿä½¿ç”¨ã€‚

2.  **å¯è§†åŒ–æŠ¥å‘Š (`reports/figures/`)**
    * `kmeans_elbow_plot.png`: ç”¨äºåˆ¤æ–­æœ€ä½³èšç±»æ•°é‡ K å€¼çš„æŠ€æœ¯å›¾è¡¨ã€‚
    * `cluster_visualizations.png`: ä¸€ç»„æ•£ç‚¹å›¾ï¼Œç›´è§‚å±•ç¤ºä¸åŒç”¨æˆ·ç¾¤åœ¨ R, F, M ç»´åº¦ä¸Šçš„åˆ†å¸ƒæƒ…å†µï¼Œå¸®åŠ©ç†è§£åˆ†ç¾¤ç»“æœã€‚

## åˆ†ææµç¨‹

1.  **æ•°æ®é¢„å¤„ç†**: æ¸…æ´—åŸå§‹æ•°æ®ï¼Œæå– RFM åˆ†ææ‰€éœ€å­—æ®µã€‚
2.  **RFM ä¸èšç±»åˆ†æ**:
    * è®¡ç®—ç”¨æˆ·çš„ RFM æŒ‡æ ‡ã€‚
    * é€šè¿‡ K-Means ç®—æ³•å¯¹ç”¨æˆ·è¿›è¡Œè‡ªåŠ¨åˆ†ç¾¤ã€‚
3.  **ç”¨æˆ·åˆ†å±‚ä¸ç­–ç•¥æ˜ å°„**:
    * åŸºäºæ¯ä¸ªç¾¤ç»„çš„ RFM å‡å€¼ï¼Œè‡ªåŠ¨ä¸ºç¾¤ç»„èµ‹äºˆä¸šåŠ¡æ ‡ç­¾ï¼ˆå¦‚â€œé«˜ä»·å€¼æ ¸å¿ƒç”¨æˆ·â€ã€â€œéœ€è¦å”¤é†’çš„å®¢æˆ·â€ç­‰ï¼‰ã€‚
    * ä¸ºä¸åŒæ ‡ç­¾çš„ç”¨æˆ·åŒ¹é…é¢„è®¾çš„è¥é”€ç­–ç•¥ã€‚
4.  **æŠ¥å‘Šç”Ÿæˆ**:
    * å°†å¸¦æœ‰ä¸šåŠ¡æ ‡ç­¾å’Œç­–ç•¥çš„å®Œæ•´ç”¨æˆ·åˆ—è¡¨å¯¼å‡ºä¸º CSV æ–‡ä»¶ã€‚
    * ç”Ÿæˆå¹¶ä¿å­˜ç”¨æˆ·åˆ†ç¾¤çš„å¯è§†åŒ–å›¾è¡¨ã€‚

---

## ğŸ“¦ ç¯å¢ƒä¾èµ–
å®‰è£…ä¾èµ–ï¼š
```bash
pip install -r requirements.txt
```

ä¾èµ–åŒ…åŒ…æ‹¬ï¼š
- pandas
- scikit-learn
- matplotlib
- seaborn
- surprise
- pyspark
